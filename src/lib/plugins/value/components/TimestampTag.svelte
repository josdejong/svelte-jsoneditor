<script lang="ts">
  import Icon from 'svelte-awesome'
  import { faClock } from '@fortawesome/free-regular-svg-icons'
  import { getContext } from 'svelte'
  import { tooltip } from '$lib/components/controls/tooltip/tooltip.js'
  import type { AbsolutePopupContext, RenderValueProps } from '$lib/types'

  const absolutePopupContext = getContext<AbsolutePopupContext>('absolute-popup')

  const { value }: RenderValueProps = $props()

  const text = $derived(`Time: ${new Date(value as number).toString()}`)
</script>

<div class="jse-timestamp" use:tooltip={{ text, ...absolutePopupContext }}>
  <Icon data={faClock} />
</div>

<style src="./TimestampTag.scss"></style>
